version: "3.3"
services:
  kleio:
    # includes git
    image: timelinkserver/kleio-server:stable
    # Run under current user otherwise in linux systems sources files and translations are owned by root
    # requires # store current user and group
    #       export CURRENT_UID=$(id -u):$(id -g)
    user: ${CURRENT_UID}

    volumes:
      - ${KLEIO_HOME}:/kleio-home:cached
    ports:
      - "8089:8888"
    environment:
      - KLEIO_DEBUG
      - KLEIO_SERVER_WORKERS
      - KLEIO_SERVER_PORT
      - KLEIO_ADMIN_TOKEN
    restart: unless-stopped